<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Generación de reporte - Evaluación de Derechos Humanos</title>
		
		<!-- CSS -->
	    <link href="/favicon.ico" rel="shortcut icon">
	    <link href="https://framework-gb.cdn.gob.mx/assets/styles/main.css" rel="stylesheet">
	    
	    <link href="css/generales.css" rel="stylesheet">
		
		<!-- Respond.js soporte de media queries para Internet Explorer 8 -->
	    <!-- ie8.js EventTarget para cada nodo en Internet Explorer 8 -->
	    <!--[if lt IE 9]>
	      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	      <script src="https://cdnjs.cloudflare.com/ajax/libs/ie8/0.2.2/ie8.js"></script>
	    <![endif]-->
	</head>
	<body>
		
		<!-- Contenido -->
	    <main class="page">
		    
		    
		    <nav class="navbar navbar-inverse sub-navbar navbar-fixed-top">
			  <div class="container">
			    <div class="navbar-header">
			      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#subenlaces">
			        <span class="sr-only">Interruptor de Navegación</span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			      </button>
			      <a class="navbar-brand" href="index.html"><img src="img/DH.png" alt="" class="logomenu" /></a>
			    </div>
			    <div class="collapse navbar-collapse" id="subenlaces">
			      <ul class="nav navbar-nav navbar-right">
			        <li><a href="acerca.html" >Acerca de</a></li>
			        <li><a href="derechos.html">Derechos</a></li>
<!--			        <li><a href="calendario.html">Calendario</a></li>-->
			        <li><a href="descarga.html">Descarga masiva</a></li>
			        <li><a href="contacto.html">Contacto</a></li>
			        <li><a href="busqueda.html"><span class="icon-search" aria-hidden="true"></span></a></li>
			      </ul>
			    </div>
			  </div>
			</nav>
		    
		  
<!--
			<div class="row header">
		      <div class="col-md-12 titulo-header">
			      <h1>Acerca de</h1>
		      </div>
	      	</div>
-->
			<br/><br/>
			<div class="container">
				<ol class="breadcrumb">
					<li><a href="index.html"><i class="icon icon-home"></i></a></li>
					<li class="active"><a href="reporte.html">Reporte</a></li>
				</ol>
			</div>
		    
	      <div class="container">
		      <br /><br />
		  	<!-- Inicia Bloque -->
              
              
		      <div class="row">
			      <div class="col-md-12">
				      <h1>Generación de insumos para reporte</h1>
				      <hr />
                      
                      <div class="row">
					      <h3>Ficha del reporte</h3>
					     <table class="table">
                             <tr>
                                <td>Total de Derechos en la plataforma:</td>
                                <td class="derechosNombre">Culturales, Medio Ambiente, Trabajo, Alimentación y Sindicales</td>
                             </tr>
                             <tr>
                                <td>Total de Indicadores en la Plataforma:</td>
                                <td class="totalInd">415</td>
                             </tr>
                             <tr>
                                <td>Total de Indicadores Cualitativos:</td>
                                <td class="indCualis">281 (281 activos)</td>
                             </tr>
                             <tr>
                                <td>Total de Indicadores Cuantitativos:</td>
                                <td class="indCuantis">134 (18 activos)</td>
                             </tr>
                             <tr>
                                <td>Indicadores por Derecho</td>
                                <td class="derechoCantidad">
                                    <b>Culturales:</b> 105<br>
                                    <b>Medio Ambiente:</b> 100<br>
                                    <b>Trabajo:</b> 81<br>
                                    <b>Alimentación:</b> 76<br>
                                    <b>Sindicales:</b> 53<br>
                                 </td>
                             </tr>
                        </table>

                          
				      </div>
                      
                      
				      <div class="row">
                          <p style="text-align:center;">Para generar el documento en formato Microsoft Word (.docx), sigue los siguientes pasos:</p><br />
                          <ol>
                            <li>Selecciona los derechos para los cuáles quieras descargar el reporte</li>
                              <li>Da clic en el botón que dice "Generar documento de Reporte"</li>
                              <li>Descarga el documento</li>
                          </ol>
                          <br/>
					      
					  	
				      </div>
				      <br />
                      
                      <div class="row internoDerecho" >
                        <div class="example" id="selIndis">
                            <div class="panel-group ficha-collapse" id="accordions"></div> 
                        </div> 
                          
                          <br />
                          
                          <div class="col-md-12" style="text-align:center;">
						      <button type="button" id="generarInsumos" class="btn btn-primary btn-lg" >Generar documento de Reporte</button>
                              <button type="button" id="nuevoInsumo" class="btn btn-primary btn-lg"  onclick="descarga();">Descargar</button>
					      </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 1-->
                        <div id="tabuladoInsumo1">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 2-->
                        <div id="tabuladoInsumo2">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 3-->
                        <div id="tabuladoInsumo3">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 4-->
                        <div id="tabuladoInsumo4">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 5-->
                        <div id="tabuladoInsumo5">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 6-->
                        <div id="tabuladoInsumo6">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 7-->
                        <div id="tabuladoInsumo7">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                          <!--            Se crea la tabla para la descarga del reporte-->
                          <!--            Derecho 8-->
                        <div id="tabuladoInsumo8">
                            <div class="nombreDer" style="text-align: center; font-family: Arial;"></div>
                            <table class="table" border="1">
                                <thead>
                                    <th style="text-align: center; font-family: Arial;">Estructurales</th>
                                    <th style="text-align: center; font-family: Arial;">De Proceso</th>
                                    <th style="text-align: center; font-family: Arial;">De Resultado</th>
                                </thead>
                                <tbody>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Recepción del derecho</b></h3></td></tr><tr id="recepDerA"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Capacidades estatales</b></h3></td></tr><tr id="recepDerC"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Igualdad y no discriminación</b></h3></td></tr><tr id="recepDerD"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Contexto financiero y presupuestal</b></h3></td></tr><tr id="recepDerF"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a información pública y participación</b></h3></td></tr><tr id="recepDerI"></tr>
                                    <tr><td colspan="3" align="center"><h3 style="text-align: center; font-family: Arial;"><b>Acceso a la justicia</b></h3></td></tr><tr id="recepDerJ"></tr>
                                </tbody>
                            </table>
                        </div>
                          
                    </div>
                      
                      <br /><br />
				      
			      </div>
		      </div>
		      <!-- Termina Bloque -->      
		      
	      </div>
		  <br /><br />

	    </main>
	
	    <!-- JS -->
	    <script src="https://framework-gb.cdn.gob.mx/gobmx.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
	    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
	    <script src="js/main.js"></script>
        <script src="js/consultas.js"></script>
        <script src="js/FileSaver.js"></script>
        <script src="js/html-docx.js"></script>
        <script>
            
            var tablaIndContAE = '', tablaIndContAP = '', tablaIndContAR = '';
            var tablaIndContCE = '', tablaIndContCP = '', tablaIndContCR = '';
            var tablaIndContDE = '', tablaIndContDP = '', tablaIndContDR = '';
            var tablaIndContFE = '', tablaIndContFP = '', tablaIndContFR = '';
            var tablaIndContIE = '', tablaIndContIP = '', tablaIndContIR = '';
            var tablaIndContJE = '', tablaIndContJP = '', tablaIndContJR = '';
            var tipoDer = [];
            var todosInd = [];
            
            $('#descargaDoc').hide();
            
            $('#selIndis').show();
            $('#tabuladoInsumo1').hide();
            $('#tabuladoInsumo2').hide();
            $('#tabuladoInsumo3').hide();
            $('#tabuladoInsumo4').hide();
            $('#tabuladoInsumo5').hide();
            $('#tabuladoInsumo6').hide();
            $('#tabuladoInsumo7').hide();
            $('#tabuladoInsumo8').hide();
            $('#nuevoInsumo').hide();
                        
            var colap = '';
            var indDer = ['Alimentación','Medio Ambiente','Culturales','Trabajo','Sindicales'];
            
            function listaInd(){
                for(var i=0;i<indDer.length;i++){
                    colap += '<div class="panel panel-default">'+
                            '        <div class="panel-heading d'+(i+1)+'">'+
                            '            <h4 class="panel-title">'+
                            '                <label><input type="checkbox" name="'+claveDer(indDer[i])+'" id="selDerecho" /> &nbsp;<span style="color:#ffffff;">'+indDer[i]+'</span></label>'+
                            '            </h4>'+
                            '        </div>'+
                            //'        <div class="panel-collapse collapse" id="panel-0'+i+'">'+
                            //'            <div class="panel-body">'+
                            //'                <div id="cargaDat'+i+'">'+getValores(indDer[i])+'</div>'+
                            //'            </div>'+
                            //'        </div>'+
                            '    </div>';
                    //getValores(claveDer(indDer[i]));
                }
                return colap;
            }
            
            
   function getValores(derecho){
        //var derecho = "Medio Ambiente";
        //var id_derecho = 5;
         $.ajax({
		  type: 'GET',
//		  url: pathAPI + "search?q=right_name_short_lit:"+derecho+"&rows=100",
            url: pathAPI + "search?q=right_id:"+derecho+"&rows=100&fl=indicator_code,indicator_name,indicator_definition,indicator_category_key,indicator_type_code",
		  data: {},
		  success: function( data, textStatus, jqxhr ) {   
              
              tablaIndContAE = '';
              tablaIndContAP = '';
              tablaIndContAR = '';
              tablaIndContCE = '';
              tablaIndContCP = '';
              tablaIndContCR = '';
              tablaIndContDE = '';
              tablaIndContDP = '';
              tablaIndContDR = '';
              tablaIndContFE = '';
              tablaIndContFP = '';
              tablaIndContFR = '';
              tablaIndContIE = '';
              tablaIndContIP = '';
              tablaIndContIR = '';
              tablaIndContJE = '';
              tablaIndContJP = '';
              tablaIndContJR = '';
            
              tipoDer = data['results']['records'];
              recepDero();
              
//                $('#recepDerA').html('');
//                $('#recepDerC').html('');
//                $('#recepDerD').html('');
//                $('#recepDerF').html('');
//                $('#recepDerI').html('');
//                $('#recepDerJ').html('');

                $('#tabuladoInsumo'+derecho+' #recepDerA').html('<td style="text-align: left; font-family: Arial;">' + tablaIndContAE + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContAP + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContAR + '</td>' );
                $('#tabuladoInsumo'+derecho+' #recepDerC').html('<td style="text-align: left; font-family: Arial;">' + tablaIndContCE + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContCP + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContCR + '</td>' );
                $('#tabuladoInsumo'+derecho+' #recepDerD').html('<td style="text-align: left; font-family: Arial;">' + tablaIndContDE + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContDP + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContDR + '</td>' );
                $('#tabuladoInsumo'+derecho+' #recepDerF').html('<td style="text-align: left; font-family: Arial;">' + tablaIndContFE + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContFP + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContFR + '</td>' );
                $('#tabuladoInsumo'+derecho+' #recepDerI').html('<td style="text-align: left; font-family: Arial;">' + tablaIndContIE + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContIP + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContIR + '</td>' );
                $('#tabuladoInsumo'+derecho+' #recepDerJ').html('<td style="text-align: left; font-family: Arial;">' + tablaIndContJE + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContJP + '</td><td style="text-align: center; font-family: Arial;">' + tablaIndContJR + '</td>' );
               
		  },
		  async:true
		});
    }
    
            
            
//            function getValores(derecho){
//                var valores = '';
//                console.log(pathAPI);
//                console.log(derecho);
//        //var derecho = "Medio Ambiente";
//        //var id_derecho = 5;
//         $.ajax({
//		  type: 'GET',
//		  url: pathAPI + "search?q=right_name_short_lit:"+derecho+"&rows=100",
//             //url: pathAPI + "search?q=right_id:"+derecho+"&rows=100",
//		  data: {},
//		  success: function( data, textStatus, jqxhr ) {   
//
//              tipoDer = data['results']['records'];
//              
//              console.log(tipoDer);
//              for(var g = 0;g<tipoDer.length;g++){
//                if(tipoDer[g].is_cuantitative === true && tipoDer[g].breakdown_attribute_result != null){
//                    valores += '<div class="CT"><label style="font-weight:400;"><input type="checkbox" name="'+tipoDer[g].indicator_code+'"> ' + tipoDer[g].indicator_code + ' - ' + tipoDer[g].indicator_name + ' <span class="d1" style="color:#fff;padding:3px 5px;font-size:11px;border-radius:4px;" title="Indicador Cuantitativo">CT</span></label><br /></div>';
//                 }else if(tipoDer[g].is_cuantitative === false){
//                      valores += '<div class="CL"><label style="font-weight:400;"><input type="checkbox" name="'+tipoDer[g].indicator_code+'"> ' + tipoDer[g].indicator_code + ' - ' + tipoDer[g].indicator_name + ' <span class="d1" title="Indicador Cualitativo" style="color:#fff;opacity:0.7;padding:3px 5px;font-size:11px;border-radius:4px;">CL</span></label><br /></div>';
//                          }
//              }
//                
//		  },
//		  async:false
//		});
//                console.log(valores);
//                return valores;
//    }
//            
            
            
            
            
            
            
             function recepDero(){
        //console.log(tipoDer);
        for(var i=0; i < tipoDer.length; i++){
            if(tipoDer[i].indicator_category_key == 'a'){
                if(tipoDer[i].indicator_type_code === "E"){
                   tablaIndContAE += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "P"){
                    tablaIndContAP += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "R"){
                   tablaIndContAR += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
            }else if(tipoDer[i].indicator_category_key == 'c'){
                if(tipoDer[i].indicator_type_code === "E"){
                   tablaIndContCE += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "P"){
                    tablaIndContCP += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "R"){
                   tablaIndContCR += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
            }else if(tipoDer[i].indicator_category_key == 'd'){
                 if(tipoDer[i].indicator_type_code === "E"){
                   tablaIndContDE += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "P"){
                    tablaIndContDP += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "R"){
                   tablaIndContDR += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
            }else if(tipoDer[i].indicator_category_key == 'f'){
                 if(tipoDer[i].indicator_type_code === "E"){
                   tablaIndContFE += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "P"){
                    tablaIndContFP += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "R"){
                   tablaIndContFR += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
            }else if(tipoDer[i].indicator_category_key == 'i'){
                 if(tipoDer[i].indicator_type_code === "E"){
                   tablaIndContIE += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "P"){
                    tablaIndContIP += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "R"){
                   tablaIndContIR += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
            }else if(tipoDer[i].indicator_category_key == 'j'){
                 if(tipoDer[i].indicator_type_code === "E"){
                   tablaIndContJE += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "P"){
                    tablaIndContJP += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
                else if(tipoDer[i].indicator_type_code === "R"){
                   tablaIndContJR += '<br/>· <b>' + tipoDer[i].indicator_code+ ' - '+tipoDer[i].indicator_name+'</b> <br/>'+tipoDer[i].indicator_definition+' <br/><br/><hr>';
                }
            }

        }       
    }// Termina function 
    
            
            
            
            $('#accordions').html(listaInd());
            
            // Acciones para la descarga
            $('#generarInsumos').on('click',function(e){
                $(this).hide();
                 $('.internoDerecho').hide();
                
                
            $('#selIndis').hide();
              $('#tabuladoInsumo').show();
              e.preventDefault();
              var indica = [];
              var valor='';
              var n = $('#accordions input[type=checkbox]:checked');
              console.log(n);


              if(n != '' || n != null){
                $.each(n, function(){
                     console.log($(this).attr('name'));
                     valor  +=  ',' + $(this).attr('name');
                });
              }else{
                alert('Debes seleccionar al menos 1 indicador.');
              }

                console.log(valor);
                
                // Variable de lo seleccionado en string separado por comas
                var iji = valor.substr(1);
                console.log(iji);

                var resol = iji.split(",");
                
                for(var ll=0;ll<resol.length;ll++){
                    var url = pathAPI + "search?q=right_id:"+resol[ll]+"&rows=100&fl=indicator_code,indicator_name,indicator_definition,right_name";
                    var indContd = '';
                    $.ajax({
                       type: "GET",
                       url: url,
                       success: function(data)
                       {
                           console.log(resol[ll]);
                            getValores(resol[ll]); 
                           console.log(nomDer(resol[ll]));
                           $('#tabuladoInsumo'+resol[ll]+' .nombreDer').html("<h1>"+data['results']['records'][0]["right_name"]+"</h1>");
                           $('#nuevoInsumo').show();
                       },
                       async: false
                   });
                }
                

      });
            
            function descarga(){
//                var content = '<!DOCTYPE html><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">' + 
//                    ($('#tabuladoInsumo1 .nombreDer').html()) ? document.getElementById("tabuladoInsumo1").innerHTML : '' +
//                    ($('#tabuladoInsumo2 .nombreDer').html()) ? document.getElementById("tabuladoInsumo2").innerHTML : '' +
//                    ($('#tabuladoInsumo3 .nombreDer').html()) ? document.getElementById("tabuladoInsumo3").innerHTML : '' +
//                    ($('#tabuladoInsumo4 .nombreDer').html()) ? document.getElementById("tabuladoInsumo4").innerHTML : '' + 
//                    ($('#tabuladoInsumo5 .nombreDer').html()) ? document.getElementById("tabuladoInsumo5").innerHTML : '' + 
//                    ($('#tabuladoInsumo6 .nombreDer').html()) ? document.getElementById("tabuladoInsumo6").innerHTML : '' + 
//                    ($('#tabuladoInsumo7 .nombreDer').html()) ? document.getElementById("tabuladoInsumo7").innerHTML : '' + 
//                    ($('#tabuladoInsumo8 .nombreDer').html()) ? document.getElementById("tabuladoInsumo8").innerHTML : '' ;
                
                var content = '<!DOCTYPE html><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">' + 
                    document.getElementById("tabuladoInsumo1").innerHTML +
                    document.getElementById("tabuladoInsumo2").innerHTML +
                    document.getElementById("tabuladoInsumo3").innerHTML +
                    document.getElementById("tabuladoInsumo4").innerHTML + 
                    document.getElementById("tabuladoInsumo5").innerHTML + 
                    document.getElementById("tabuladoInsumo6").innerHTML + 
                    document.getElementById("tabuladoInsumo7").innerHTML + 
                    document.getElementById("tabuladoInsumo8").innerHTML;
                console.log(content);
                var converted = htmlDocx.asBlob(content, {orientation: 'landscape', margins: {top: 720,bottom: 720}});
                saveAs(converted, 'ReporteSRE.docx');
            }
            
            
        function claveDer(derecho){
            var nom = '';
            switch(derecho){
               case "Salud":
                nom = 1;
               break;
               case "Seguridad Social":
                nom = 2;
               break;
               case "Educación":
                nom = 3;
               break;
               case "Alimentación":
                nom = 4;
               break;
               case "Medio Ambiente":
                nom = 5;
               break;
               case "Culturales":
                nom = 6;
               break;
               case "Trabajo":
                nom = 7;
               break;
               case "Sindicales":
                nom = 8;
               break;
            }
            return nom;
        }
            
        function nomDer(derecho){
            var nom = '';
            switch(derecho){
               case 1:
                nom = "Derecho a la Salud";
               break;
               case 2:
                nom = "Derecho a la Seguridad Social";
               break;
               case 3:
                nom = "Derecho a la Educación";
               break;
               case 4:
                nom = "Derecho a la Alimentación";
               break;
               case 5:
                nom = "Derecho al Medio Ambiente";
               break;
               case 6:
                nom = "Derechos Culturales";
               break;
               case 7:
                nom = "Derecho al Trabajo";
               break;
               case 8:
                nom = "Derechos Sindicales";
               break;
            }
            return nom;
        }
            
            
        var checkEmptyContext = function ( $target ) {    
            $target = ( $target instanceof jQuery ) ? $target : $( $target );

            return ( $target.length > 0 ) && ! $.trim( $target.html() );
        };
            
        </script>
		
	</body>
</html>